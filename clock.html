
	<style type="text/css">
		canvas.invalid {
			transition: 400ms all;
			-webkit-filter: blur(3px);
		}
		canvas.invalid:hover {
			-webkit-filter: blur(0px);
		}
		canvas:hover {
			transition: 200ms all;
			-webkit-filter: blur(1px);
		}
	</style>
	<canvas id="clock" width="200" height="200" onclick="Clock.toggle(this)">
	This text is displayed if your browser does not support HTML5 Canvas.
	</canvas>

	<script type="text/javascript">
		var Clock = (function() {
			var canvas = document.getElementById("clock");
			var context = canvas.getContext('2d');
			
			var radius = 70;
			var x = canvas.width/2, y = canvas.height/2;

			var now, end,
				hour, minutes, seconds,
				color,
				phrase;

			var drawArc = function(end) {
				now = new Date();
				end = end || ((now.getMilliseconds()*2)/1000)-1;
				hour = now.getHours();
				hour = hour >= 10 ? hour : "0" + hour;

				minutes = now.getMinutes();
				minutes = minutes >= 10 ? minutes : "0" + minutes;
				
				seconds = now.getSeconds();
				seconds = seconds >= 10 ? seconds : "0" + seconds;
				
				context.clearRect(0, 0, 200, 200);

				context.beginPath();

				context.arc(x, y, radius, Math.PI, end * Math.PI, false);
				context.lineWidth = 2;

				color = end*100+90;
				context.strokeStyle = "rgb(0, 0, " + color + ")";

				context.fillText(hour + ":" + minutes + ":" + seconds + phrase, 78, 100);

				context.stroke();
			}
			var invalidate = function() {
				phrase = " (stoped)";
				drawArc(0.9999);

				canvas.className = 'invalid';
			}

			var clock;
			var running = false;
			var reset = function() {
				running = false;
				invalidate();

				clearInterval(clock);
			}			
			var init = function() {
				canvas.className = '';
				phrase = "";

				running = true;
				
				clock = setInterval(drawArc,16);
			};

			return {
				reset: reset,
				init: init,
				toggle: function() {
					running ? reset() : init()
				}
			};
		})();



		Clock.init();
	</script>